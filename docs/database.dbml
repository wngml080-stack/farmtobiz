// 팜투비즈 ERD - dbdiagram.io 용
// https://dbdiagram.io 에서 이 코드를 붙여넣으세요

Table sample_requests {
  id uuid [pk, note: 'Primary Key']

  // 폼 데이터
  name varchar(100) [not null, note: '고객 이름']
  email varchar(100) [not null, note: '이메일']
  phone varchar(20) [not null, note: '전화번호']
  interested_products varchar(50) [not null, note: '관심 품목 (채소류/과일류/수산물/기타)']

  // UTM 파라미터
  utm_source varchar(100) [note: 'UTM 소스 (instagram, facebook, kakao 등)']
  utm_medium varchar(100) [note: 'UTM 미디엄 (paid_social, organic 등)']
  utm_campaign varchar(100) [note: 'UTM 캠페인 (sample_box_nov2024 등)']
  utm_term varchar(100) [note: 'UTM 검색어']
  utm_content varchar(100) [note: 'UTM 컨텐츠 (ad_creative_name 등)']

  // 위치 정보
  country varchar(50) [note: '국가']
  city varchar(100) [note: '도시']
  region varchar(100) [note: '지역']
  ip varchar(45) [note: 'IP 주소']

  // 세션 정보
  referrer text [note: '유입 경로 (이전 페이지 URL)']
  first_page text [note: '첫 방문 페이지']
  session_start timestamp [note: '세션 시작 시간']
  form_submit_time timestamp [default: `now()`, note: '폼 제출 시간']

  // 디바이스 정보
  user_agent text [note: '브라우저 User Agent']
  device_type varchar(20) [note: '디바이스 타입 (mobile/tablet/desktop)']
  screen_width integer [note: '화면 너비 (픽셀)']
  screen_height integer [note: '화면 높이 (픽셀)']

  // 행동 정보
  time_on_page integer [note: '페이지 체류 시간 (초)']
  scroll_depth integer [note: '스크롤 깊이 (%)']
  cta_clicks integer [note: 'CTA 버튼 클릭 수']

  // 메타데이터
  created_at timestamp [default: `now()`, note: '레코드 생성 시간']

  Indexes {
    created_at [name: 'idx_created_at']
    utm_campaign [name: 'idx_utm_campaign']
    phone [name: 'idx_phone']
    email [name: 'idx_email']
  }

  Note: '샘플 박스 신청 리드 데이터 테이블'
}
